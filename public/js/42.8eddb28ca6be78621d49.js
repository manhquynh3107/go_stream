webpackJsonp([42],{bRYi:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t("Xxa5"),i=t.n(a),n=t("exGp"),o=t.n(n),s=t("Yhf9"),l=t("SM43"),p=t("uEhB"),u=t("OF+h"),c=t("QmSG"),f=t("MwxR"),g=t("eEJ2"),m=t("oXhG"),d=t("olAn"),h=t("QFr9"),b=t.n(h),w={components:{ContentOutside:g.a,LanguageDropdown:m.a,HeaderBar:f.a,PolicyBottom:l.a,VueRecaptcha:d.a,PolicyPopup:p.a},data:function(){var e=this;return{agreePolicy:!1,formSignup:{email:"",password:"",repassword:"",valid_recaptcha:"",ref_code:""},error:"",rules:{email:[{validator:function(r,t,a){return t?t.length<4?a(new Error(e.$t("signup.email_length"))):Object(u.B)(t)?void a():a(new Error(e.$t("signup.email_length"))):a(new Error(e.$t("signup.empty_email")))},trigger:"blur"},{required:!0,message:this.$t("signup.empty_email"),trigger:"blur"}],password:[{required:!0,message:this.$t("signup.empty_password"),trigger:"blur"},{min:6,max:1e3,message:this.$t("signup.password_length"),trigger:"blur"}],repassword:[{required:!0,message:this.$t("signup.empty_password"),trigger:"blur"},{validator:function(r,t,a){t!==e.formSignup.password?a(new Error(e.$t("signup.password_mismatch"))):a()},trigger:"blur"}]},site_key:c.a.recaptcha_v2.site_key,loading:!1,next:"",laguages:c.a.available_language}},methods:{onSubmit:function(){var e=this;if(this.formSignup.valid_recaptcha){var r,t=this.formSignup.email.toLowerCase().replace(/\+/g,""),a=this.formSignup.password;this.loading=!0,this.$refs.formSignup.validate((r=o()(i.a.mark(function r(n){var o,s;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!n){r.next=26;break}o=!1,r.t0=i.a.keys(b.a);case 3:if((r.t1=r.t0()).done){r.next=10;break}if(s=r.t1.value,!t.includes(b.a[s])){r.next=8;break}return o=!0,r.abrupt("break",10);case 8:r.next=3;break;case 10:if(!o){r.next=14;break}return e.error=e.$t("signup.email_spam"),e.loading=!1,r.abrupt("return",!1);case 14:if(!e.formSignup.ref_code){r.next=22;break}return r.next=17,Object(u.b)("user/ref?ref="+e.formSignup.ref_code).then(function(e){return!!e.status}).catch(function(e){return!1});case 17:if(r.sent){r.next=22;break}return e.error=e.$t("signup.ref_code_error"),e.loading=!1,r.abrupt("return",!1);case 22:e.loading=!0,e.signup(t,a).then(function(r){if(r.id){var t=Object(u.j)("ref");t=t||"E9WDpxAtqvdb8dBWtDEO",e.formSignup.ref_code&&(t=e.formSignup.ref_code),t&&Object(u.b)("user/ref",{ref:t}),e.$notify({title:"Success",message:e.$t("notify.content.register_success"),type:"success",duration:5e3}),window.top.location.href="https://gostream.co/thankyou?user=free"}}).catch(function(r){e.error=e.$t("notify.content."+r.code)}).finally(function(){e.loading=!1}),r.next=28;break;case 26:return e.loading=!1,r.abrupt("return",!1);case 28:case"end":return r.stop()}},r,e)})),function(e){return r.apply(this,arguments)}))}else this.error=this.$t("signup.invalid_recaptcha")},recaptcha:function(){Object(u.q)("https://www.google.com/recaptcha/api.js").then(function(e){})},onCaptchaVerified:function(e){this.formSignup.valid_recaptcha=e}},mounted:function(){this.recaptcha();var e=Object(u.s)();e.lang&&this.laguages.indexOf(e.lang)>-1&&(window.localStorage.setItem("language",e.lang),this.$i18n.locale=e.lang)},beforeMount:function(){Object(u.v)(this)},mixins:[s.a]},_={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"main-page signup-iframe"},[t("el-row",[t("el-col",{attrs:{xs:{span:20,offset:2},sm:{span:16,offset:4},md:{span:12,offset:6},lg:{span:8,offset:8}}},[t("el-form",{ref:"formSignup",attrs:{"label-position":"top","label-width":"100px",model:e.formSignup,rules:e.rules}},[e.error?t("el-alert",{attrs:{title:e.error,type:"error","show-icon":""}}):e._e(),e._v(" "),t("el-form-item",{attrs:{label:e.$t("login.email"),prop:"email"}},[t("el-input",{attrs:{id:"email"},model:{value:e.formSignup.email,callback:function(r){e.$set(e.formSignup,"email",r)},expression:"formSignup.email"}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("login.password"),prop:"password"}},[t("el-input",{attrs:{id:"password",type:"password"},model:{value:e.formSignup.password,callback:function(r){e.$set(e.formSignup,"password",r)},expression:"formSignup.password"}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("signup.repassword"),prop:"repassword"}},[t("el-input",{attrs:{id:"repassword",type:"password"},model:{value:e.formSignup.repassword,callback:function(r){e.$set(e.formSignup,"repassword",r)},expression:"formSignup.repassword"}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("signup.referral_code")}},[t("el-input",{model:{value:e.formSignup.ref_code,callback:function(r){e.$set(e.formSignup,"ref_code",r)},expression:"formSignup.ref_code"}})],1),e._v(" "),t("el-form-item",[t("vue-recaptcha",{attrs:{sitekey:e.site_key,loadRecaptchaScript:!0},on:{verify:e.onCaptchaVerified}})],1),e._v(" "),t("el-form-item",{staticClass:"box-agree-policy"},[t("el-checkbox",{model:{value:e.agreePolicy,callback:function(r){e.agreePolicy=r},expression:"agreePolicy"}},[t("p",{domProps:{innerHTML:e._s(e.$t("signup.agreement"))}})])],1),e._v(" "),t("el-form-item",{staticStyle:{"text-align":"center"}},[t("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"btnLogin",staticStyle:{width:"100%"},attrs:{type:"primary",disabled:!(e.formSignup.valid_recaptcha&&e.formSignup.email&&e.formSignup.password&&e.formSignup.repassword&&e.agreePolicy)},on:{click:e.onSubmit}},[e._v(e._s(e.$t("signup.title")))])],1)],1)],1)],1)],1)},staticRenderFns:[]};var v=t("VU/8")(w,_,!1,function(e){t("yuJz"),t("cImn")},"data-v-21ea5cc1",null);r.default=v.exports},cImn:function(e,r){},yuJz:function(e,r){}});
//# sourceMappingURL=42.8eddb28ca6be78621d49.js.map